<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        th, td { border: 1px solid black; }
        th { background-color: #ddd; }
    </style>
    <!--
        https://mateusza2.github.io/Programowanie/
    -->
    <script src='uczniowie.js'></script>
</head>
<body>
    <table id='ucz'>
        <thead>
            <tr>
                <th>imie</th>
                <th>nazwisko</th>
                <th>oceny</th>
                <th>średnia</th>
            </tr>
        <tbody>
        </tbody>
    </table>
    <script>
        function srednia_ocen(o){
            var suma = 0;
            for (var ocena of o){
                suma += ocena
            }
            return suma/o.length
        }


        var lista_uczniow = document.querySelector('#ucz')
        for (var uczen of uczniowie){
            var wiersz = document.createElement('tr')
            for (var x in uczen){
                var kom = document.createElement('td')
                kom.textContent = uczen[x]
                wiersz.append(kom)
            }
            var oceny = uczen["oceny"].split(" ")
            
            for(var i=0; i<oceny.length; i++){
                oceny[i] = parseInt(oceny[i])
            }

            var kom = document.createElement('td')
            kom.textContent = srednia_ocen(oceny).toFixed(2)
            wiersz.append(kom)

            //console.log(oceny, srednia_ocen(oceny))
            lista_uczniow.append(wiersz)
        }
        
        // TODO:
        // Wyświetlić dane o uczniach w tabelce. Policzyć średnią ocen każdego ucznia.
    </script>
</html>